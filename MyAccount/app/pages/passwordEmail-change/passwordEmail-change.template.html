<h1>Update Email Username </h1>

<div class="col-md-12">
    <h4>
        To update your username please use the form below. it's important to know your username is your email address. We use this email address to send you important submission and renewal reminders. If you would like to update your business contact email address please do so on the home page, by selecting each licence and go to 'edit business' under the 'details' tab.
    </h4>
</div>
<br />
<hr />
<br />
<div class="col-md-6">
    <form name="emailForm">
        <div class="rowForm ">
            <input name="email" ng-hide="ctrl.isTokenRedeem" type="email" class="form-control" placeholder="email" ng-model="ctrl.email" ng-required="!ctrl.isTokenRedeem">
            <div ng-messages for="emailForm.email.$error" role="alert" class="alert alert-danger" ng-if="emailForm.email.$invalid && emailForm.email.$touched">
                <div ng-message="required">The email field is required</div>
            </div>
        </div>
        <div class="rowForm ">
            <input name="newEmail" type="email" class="form-control" placeholder="New email" ng-model="ctrl.newEmail" required>
            <div ng-messages for="emailForm.newEmail.$error" role="alert" class="alert alert-danger" ng-if="emailForm.newEmail.$invalid && emailForm.newEmail.$touched">
                <div ng-message="required">The new email field is required</div>
            </div>
        </div>
        <div class="rowForm ">
            <input name="confirmEmail" type="email" class="form-control" placeholder="Confirm new email" ng-model="ctrl.confirmEmail" required matches-field="newEmail">
            <div ng-messages for="emailForm.confirmEmail.$error" role="alert" class="alert alert-danger" ng-if="emailForm.confirmEmail.$invalid && emailForm.confirmEmail.$touched">
                <div ng-message="required">The confirm email field is required</div>
                <div ng-message="matchesField">The email fields must match</div>
            </div>
        </div>
        <div class="rowForm ">
            <button class="btn btn-md btn-info pull-right" type="submit" ng-click="ctrl.onSubmitClicked()" ng-disabled="emailForm.$invalid">Submit</button>
        </div>
</form>
</div>
<div class="col-md-8" ng-hide="ctrl.messages.length === 0">
    <ul  class="error-list alert alert-danger">
        <li ng-repeat="message in ctrl.messages"><span ng-bind-html="message"></span></li>
    </ul>
    <button ng-click="ctrl.onResendTokenClicked()" ng-if="ctrl.showResendButton">Resend email Reset Token.</button>
</d>